<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Image Upload with Notification</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
</head>
<body class="p-6">

  <!-- Upload Form -->
  <div id="uploadSection" class="mt-6">
    <h2 class="text-lg font-bold mb-2">Upload New Image</h2>
    <input type="file" id="imageUpload" accept="image/*" class="mb-2" />
    <button onclick="uploadImage()" class="bg-green-600 text-white px-4 py-2 rounded">Upload</button>
  </div>

  <!-- Notification -->
  <div id="notify" class="hidden fixed top-5 right-5 bg-green-600 text-white px-4 py-2 rounded shadow-lg">
    ✅ Image uploaded successfully!
  </div>

  <script>
    // ✅ Firebase Config (यहाँ अपना config डालें)
   const firebaseConfig = {
  apiKey: "AIzaSyAAOYtvC0kiu_vZTYuQ8phPyMqTEFJj9O0",
  authDomain: "new-bike-59133.firebaseapp.com",
  projectId: "new-bike-59133",
  storageBucket: "new-bike-59133.appspot.com",
  messagingSenderId: "966945954091",
  appId: "1:966945954091:web:c1387e3a27af68aef3cd6e"
};


    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const storage = firebase.storage();
    const db = firebase.database();

    // Upload Function
    function uploadImage() {
      const file = document.getElementById("imageUpload").files[0];
      if (!file) {
        alert("कृपया एक इमेज चुनें!");
        return;
      }

      const storageRef = storage.ref("slideshow/" + Date.now() + "_" + file.name);
      storageRef.put(file).then((snapshot) => {
        snapshot.ref.getDownloadURL().then((url) => {
          db.ref("slideshow").push({ imageUrl: url }).then(() => {
            // ✅ Notification दिखाएँ
            let notify = document.getElementById("notify");
            notify.classList.remove("hidden");
            setTimeout(() => notify.classList.add("hidden"), 3000);
          });
        });
      }).catch((err) => {
        alert("❌ Error uploading: " + err.message);
      });
    }
  </script>

</body>
</html>
