<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zara Fix - All Services</title>
<style>
  body, html {
    margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(to bottom, #87ceeb, #e0f7ff);
  }

  header {
    display: flex; justify-content: space-between; align-items: center;
    padding: 10px 20px; background: rgba(255,255,255,0.85); box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    position: sticky; top:0; z-index: 100;
  }

  .logo { font-size:2rem; font-weight:900; color:#ef0400; text-shadow: 2px 2px #ffea00; }

  .dropdown {
    position: relative;
    display: inline-block;
  }

  .dropbtn {
    background: #2196f3; color:white; padding:8px 12px; border:none; border-radius:6px; cursor:pointer;
    font-weight:700; box-shadow: 0 3px 5px rgba(0,0,0,0.2);
  }

  .dropdown-content {
    display: none; position: absolute; background-color: #f1f1f1; min-width: 180px; box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 1; border-radius: 6px; overflow: hidden;
  }

  .dropdown-content a {
    color: black; padding: 10px 15px; text-decoration: none; display: block;
  }

  .dropdown-content a:hover { background-color: #ddd; }
  .dropdown:hover .dropdown-content { display: block; }

  #googleLoginBtn {
    background: #4285F4; color:white; font-weight:700; padding:8px 15px; border:none; border-radius:8px;
    cursor:pointer; box-shadow: 0 3px 6px rgba(0,0,0,0.2);
  }

  /* Slider */
  .slider-container { width:100%; max-width:500px; margin: 50px auto; position:relative; overflow:hidden; border-radius:15px; box-shadow:0 5px 15px rgba(0,0,0,0.3); background:white; }
  .slider { display:flex; transition:0.5s; }
  .slide { min-width:100%; height:250px; object-fit:cover; }

  .upload-admin { text-align:center; margin-top:10px; }
  .upload-admin input[type=file] { display:block; margin:10px auto; }

  /* Bottom buttons */
  .bottom-buttons { display:flex; justify-content:center; gap:15px; margin:30px 0; }
  .bottom-buttons button { padding:10px 18px; border:none; border-radius:8px; font-weight:700; cursor:pointer; box-shadow:0 3px 6px rgba(0,0,0,0.2); }

  /* Scrolling text */
  .scrolling-text { position:fixed; bottom:0; width:100%; background:rgba(255,255,255,0.9); padding:8px 0; font-weight:700; overflow:hidden; white-space:nowrap; }
  .scrolling-text span { display:inline-block; padding-left:100%; animation: scroll-left 20s linear infinite; }
  @keyframes scroll-left { 0% { transform: translateX(0); } 100% { transform: translateX(-100%); } }
</style>
</head>
<body>

<header>
  <div class="logo">Zara Fix</div>
  <div style="display:flex; align-items:center; gap:10px;">
    <div class="dropdown">
      <button class="dropbtn">Menu</button>
      <div class="dropdown-content" id="menuLinks">
        <a href="#">Link 1</a>
        <a href="#">Link 2</a>
        <a href="#">Link 3</a>
        <a href="#">Link 4</a>
        <a href="#">Link 5</a>
        <a href="#">Link 6</a>
        <a href="#">Link 7</a>
        <a href="#">Link 8</a>
      </div>
    </div>
    <button id="googleLoginBtn">Login</button>
  </div>
</header>

<!-- Slider -->
<div class="slider-container">
  <div class="slider" id="slider"></div>
  <div class="upload-admin" id="uploadAdmin" style="display:none;">
    <input type="file" id="imageUpload" multiple>
    <button id="deleteAllBtn">Delete All</button>
  </div>
</div>

<!-- Bottom buttons -->
<div class="bottom-buttons">
  <button style="background:#4caf50;">Button 1</button>
  <button style="background:#2196f3;">Button 2</button>
  <button style="background:#f44336;">Button 3</button>
</div>

<div class="scrolling-text"><span>Welcome to Zara Fix • New updates coming soon • Check services •</span></div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyD7ZqL-PVuFdd8rMVIyW7CgHQjPRGHD2h8",
    authDomain: "zara-fix-2e35a.firebaseapp.com",
    projectId: "zara-fix-2e35a",
    storageBucket: "zara-fix-2e35a.appspot.com",
    messagingSenderId: "636550144008",
    appId: "1:636550144008:web:a849496ad1d1557d7ab1bd",
    databaseURL: "https://zara-fix-2e35a-default-rtdb.firebaseio.com"
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.database();
  const storage = firebase.storage();

  const loginBtn = document.getElementById('googleLoginBtn');
  const uploadAdmin = document.getElementById('uploadAdmin');
  const sliderDiv = document.getElementById('slider');
  const deleteAllBtn = document.getElementById('deleteAllBtn');

  const adminUIDs = ["QT3LkEToHwaiORatoKfTx8QE45s2"]; // admin UID

  // Login / Logout
  loginBtn.addEventListener('click',()=>{
    if(auth.currentUser){
      auth.signOut();
    }else{
      const provider = new firebase.auth.GoogleAuthProvider();
      auth.signInWithPopup(provider);
    }
  });

  auth.onAuthStateChanged(user=>{
    if(user){
      loginBtn.textContent = 'Logout';
      if(adminUIDs.includes(user.uid)) uploadAdmin.style.display='block';
      loadSlider();
    }else{
      loginBtn.textContent = 'Login';
      uploadAdmin.style.display='none';
      sliderDiv.innerHTML='';
    }
  });

  // Upload images
  document.getElementById('imageUpload').addEventListener('change', e=>{
    const files = e.target.files;
    Array.from(files).forEach(file=>{
      const storageRef = storage.ref('slider/'+file.name);
      storageRef.put(file).then(snapshot=>{
        snapshot.ref.getDownloadURL().then(url=>{
          const newKey = db.ref('slider').push().key;
          db.ref('slider/'+newKey).set({url: url, timestamp: Date.now()});
          loadSlider();
        });
      });
    });
  });

  // Delete all images
  deleteAllBtn.addEventListener('click', ()=>{
    db.ref('slider').once('value', snap=>{
      snap.forEach(child=>{
        storage.refFromURL(child.val().url).delete();
        child.ref.remove();
      });
      sliderDiv.innerHTML='';
    });
  });

  // Load slider
  function loadSlider(){
    db.ref('slider').once('value', snap=>{
      sliderDiv.innerHTML='';
      const slides=[];
      snap.forEach(child=>{
        const img = document.createElement('img');
        img.src=child.val().url;
        img.className='slide';
        sliderDiv.appendChild(img);
        slides.push(img);
      });
      startSlider(slides);
    });
  }

  // Slider animation
  function startSlider(slides){
    let index=0;
    if(slides.length===0) return;
    slides.forEach(s=>s.style.display='none');
    slides[index].style.display='block';
    setInterval(()=>{
      slides[index].style.display='none';
      index=(index+1)%slides.length;
      slides[index].style.display='block';
    },3000);
  }

</script>
</body>
</html>
