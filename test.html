<!-- ✅ ZaraFix Poster Registration Form (no wallet check) -->
<!DOCTYPE html>
<html>
<head>
  <title>Poster Registration - ZaraFix</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js"></script>
</head>
<body>
  <h2>📝 Poster Registration</h2>
  <div>
    <input id="name" placeholder="Name"><br>
    <input id="shop" placeholder="Shop Name"><br>
    <input id="category" placeholder="Category"><br>
    <input id="whatsapp" placeholder="WhatsApp"><br>
    <button onclick="registerPoster()">Register</button>
  </div>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyD7ZqL-PVuFdd8rMVIyW7CgHQjPRGHD2h8",
      authDomain: "zara-fix-2e35a.firebaseapp.com",
      projectId: "zara-fix-2e35a",
      storageBucket: "zara-fix-2e35a.appspot.com",
      messagingSenderId: "636550144008",
      appId: "1:636550144008:web:a849496ad1d1557d7ab1bd"
    };
    const app = firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.database();

    auth.onAuthStateChanged(user => {
      if (!user) auth.signInWithPopup(new firebase.auth.GoogleAuthProvider());
    });

    function registerPoster() {
      const user = auth.currentUser;
      if (!user) return alert("Login required");
      const poster = {
        name: name.value,
        shop: shop.value,
        category: category.value,
        whatsapp: whatsapp.value,
        wallet: 100
      };
      db.ref("posters/" + user.uid).set(poster).then(() => alert("Registered!"));
    }
  </script>
</body>
</html>
