<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ZaraFix All Service</title>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>

<style>
body{
  margin:0; padding:0; font-family: Arial, sans-serif;
  background: linear-gradient(to bottom, #87CEFA, #E0FFFF);
}
header{
  display:flex; flex-direction:column; align-items:center; padding:10px 0;
}
.logo{
  font-size:2.5rem; font-weight:bold; text-align:center;
  background: linear-gradient(45deg, red, orange, yellow, green, blue, indigo, violet);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  text-shadow: 2px 2px 5px rgba(0,0,0,0.3);
  transform: rotateX(15deg);
}
.subtitle{
  font-size:0.9rem; color:#333; margin-top:-5px;
}
nav{ margin-top:10px; }
.dropdown{ position:relative; display:inline-block; }
.dropbtn{
  background:#007bff; color:white; padding:8px 14px;
  font-size:1rem; border:none; border-radius:5px; cursor:pointer;
}
.dropdown-content{
  display:none; position:absolute; background:white; min-width:160px;
  box-shadow:0 4px 8px rgba(0,0,0,0.2);
  z-index:100; border-radius:6px;
}
.dropdown-content a{
  color:black; padding:8px 12px; text-decoration:none; display:block;
}
.dropdown-content a:hover{ background:#f1f1f1; }
.dropdown:hover .dropdown-content{ display:block; }

#loginBtn, #logoutBtn{
  margin-top:10px; padding:6px 12px; border:none; border-radius:5px;
  cursor:pointer;
}
#loginBtn{ background:#28a745; color:white; }
#logoutBtn{ background:#dc3545; color:white; }

.main-box{
  max-width:90%; margin:20px auto; background:white; border-radius:15px;
  box-shadow:0 4px 12px rgba(0,0,0,0.3); overflow:hidden; position:relative;
}
.slider{ width:100%; overflow:hidden; position:relative; height:200px; }
.slider img{ width:100%; height:200px; object-fit:cover; transition: transform 0.5s ease; }

#adminUploadBtn{
  display:none; margin:10px auto; padding:8px 12px;
  background:#28a745; color:white; border:none; border-radius:5px; cursor:pointer;
}

#scrollTextWrapper{
  width:100%; overflow:hidden; background:#f1f1f1; padding:5px 0; margin-top:20px;
}
#scrollText{
  display:inline-block; white-space:nowrap; padding-left:100%;
  animation: scroll 15s linear infinite;
}
@keyframes scroll{
  0%{ transform:translateX(0%); }
  100%{ transform:translateX(-100%); }
}

footer{
  display:flex; justify-content:center; gap:10px; margin:20px 0;
}
footer button{
  padding:6px 10px; font-size:0.8rem; border:none; border-radius:5px;
  cursor:pointer; background:#007bff; color:white;
}
footer button:hover{ background:#0056b3; }

@media(max-width:600px){
  .slider img{ height:150px; }
  .logo{ font-size:2rem; }
}
</style>
</head>

<body>
<header>
  <div class="logo">ZaraFix</div>
  <div class="subtitle">All Service</div>
  <nav>
    <div class="dropdown">
      <button class="dropbtn">Menu</button>
      <div class="dropdown-content" id="menuLinks"></div>
    </div>
  </nav>
  <button id="loginBtn">Login with Google</button>
  <button id="logoutBtn" style="display:none;">Logout</button>
</header>

<div class="main-box">
  <div class="slider" id="imageSlider"></div>
  <button id="adminUploadBtn">Upload Images</button>
</div>

<div id="scrollTextWrapper">
  <div id="scrollText">Welcome to ZaraFix All Service!</div>
</div>

<footer>
  <button>Button 1</button>
  <button>Button 2</button>
  <button>Button 3</button>
</footer>

<script>
// --- Firebase config ---
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT.firebaseapp.com",
  databaseURL: "YOUR_PROJECT.firebaseio.com",
  projectId: "YOUR_PROJECT",
  storageBucket: "YOUR_PROJECT.appspot.com",
  messagingSenderId: "YOUR_ID",
  appId: "YOUR_APP_ID"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.database();
const storage = firebase.storage();

const adminEmail = "zarasamajiksevasanstha@gmail.com";
let currentUser = null;

// LOGIN
document.getElementById('loginBtn').onclick = () => {
  const provider = new firebase.auth.GoogleAuthProvider();
  auth.signInWithPopup(provider)
    .then(result => {
      console.log("Logged in as:", result.user.email);
    })
    .catch(error => console.error(error));
};

// LOGOUT
document.getElementById('logoutBtn').onclick = () => {
  auth.signOut();
};

// STATE CHANGE
auth.onAuthStateChanged(user => {
  currentUser = user;
  if (user) {
    document.getElementById('loginBtn').style.display = "none";
    document.getElementById('logoutBtn').style.display = "inline-block";
    if (user.email === adminEmail) {
      document.getElementById('adminUploadBtn').style.display = "block";
    }
  } else {
    document.getElementById('loginBtn').style.display = "inline-block";
    document.getElementById('logoutBtn').style.display = "none";
    document.getElementById('adminUploadBtn').style.display = "none";
  }
});

// ADMIN IMAGE UPLOAD
document.getElementById('adminUploadBtn').onclick=()=>{
  let input = document.createElement('input');
  input.type="file"; input.multiple=true; input.accept="image/*";
  input.onchange=async()=>{
    const files = input.files;
    for(let i=0;i<files.length;i++){
      const file=files[i];
      const storageRef=storage.ref('slider/'+file.name);
      await storageRef.put(file);
      const url=await storageRef.getDownloadURL();
      addSliderImage(url);
    }
  };
  input.click();
};

// SLIDER
const sliderDiv = document.getElementById('imageSlider');
let sliderImages=[];
function addSliderImage(url){
  const img = document.createElement('img');
  img.src=url;
  sliderDiv.appendChild(img);
  sliderImages.push(img);
}
let currentIndex=0;
setInterval(()=>{
  if(sliderImages.length>1){
    sliderImages.forEach((img,i)=>img.style.transform=`translateX(${100*(i-currentIndex)}%)`);
    currentIndex=(currentIndex+1)%sliderImages.length;
  }
},3000);

// MENU LINKS
const menuLinksDiv=document.getElementById('menuLinks');
const links=[
  {text:"Home",href:"#"},
  {text:"Services",href:"#"},
  {text:"Contact",href:"#"},
  {text:"About",href:"#"},
  {text:"Blog",href:"#"},
  {text:"Offers",href:"#"},
  {text:"FAQ",href:"#"},
  {text:"Gallery",href:"#"}
];
links.forEach(l=>{
  const a=document.createElement('a');
  a.href=l.href; a.textContent=l.text;
  menuLinksDiv.appendChild(a);
});

// SCROLLING TEXT
db.ref('scrollText').on('value',snap=>{
  const val = snap.val();
  if(val) document.getElementById('scrollText').textContent=val;
});
</script>
</body>
</html>
