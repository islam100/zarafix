<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Zara Fix - Admin Slider</title>
<style>
  body, html { margin:0; padding:0; font-family:sans-serif; background:#f0f0f0;}
  .top-bar { display:flex; justify-content:flex-end; align-items:center; padding:10px 20px; background:#333; color:#fff;}
  #googleLoginBtn { background:#4285F4; color:white; padding:8px 16px; border:none; border-radius:8px; cursor:pointer; margin-left:10px;}
  #sliderContainer { max-width:600px; margin:20px auto; }
  #sliderImages img { width:100%; margin-bottom:10px; border-radius:8px; box-shadow:0 3px 6px rgba(0,0,0,0.2);}
  #adminUpload { margin-top:10px; display:none;}
  #adminUpload input { width:70%; padding:6px;}
  #adminUpload button { padding:6px 12px; margin-left:5px; cursor:pointer; border:none; border-radius:5px; background:#28a745; color:#fff;}
  .button-grid { display:flex; flex-wrap:wrap; justify-content:center; gap:10px; margin-top:20px; }
  .btn-3d { padding:12px 25px; font-size:16px; font-weight:700; border-radius:14px; border:none; color:white; cursor:pointer; box-shadow:0 5px 0 #444,0 9px 15px rgba(0,0,0,0.25); transition:transform 0.15s ease; min-width:150px; text-align:center;}
  .btn-3d:hover { transform: translateY(3px); box-shadow:0 2px 0 #444,0 5px 8px rgba(0,0,0,0.15);}
  .green { background: linear-gradient(to right, #4caf50, #2e7d32); }
  .blue { background: linear-gradient(to right, #2196f3, #0d47a1); }
  .red { background: linear-gradient(to right, #f44336, #b71c1c); }
  .purple { background: linear-gradient(to right, #9c27b0, #6a1b9a); }
  .orange { background: linear-gradient(to right, #ff9800, #e65100); }
  .teal { background: linear-gradient(to right, #009688, #004d40); }
  .scrolling-text { position:fixed; bottom:0; width:100%; background:rgba(255,255,255,0.85); color:#222; font-weight:700; padding:8px 0; box-shadow:0 0 12px rgba(0,0,0,0.1); overflow:hidden; white-space:nowrap; }
  .scrolling-text span { display:inline-block; padding-left:100%; animation:scroll-left 18s linear infinite; }
  @keyframes scroll-left { 0% { transform: translateX(0);} 100% { transform: translateX(-100%);} }
</style>
</head>
<body>

<div class="top-bar">
  <div>Zara Fix</div>
  <button id="googleLoginBtn">Google Login</button>
</div>

<div id="sliderContainer">
  <div id="sliderImages"></div>

  <!-- Admin Upload Box -->
  <div id="adminUpload">
    <input type="text" id="imageUrl" placeholder="Image URL" />
    <button id="addImageBtn">Add Image</button>
    <button id="deleteSliderBtn" style="background:#dc3545;">Delete All</button>
  </div>
</div>

<div class="button-grid">
  <button class="btn-3d green" onclick="location.href='https://zarafix.vercel.app/recharge.html'">Recharge Request</button>
  <button class="btn-3d blue" onclick="location.href='https://zarafix.vercel.app/requestbottun.html'">Service Request</button>
  <button class="btn-3d red" onclick="location.href='https://zarafix.vercel.app/2poster.html'">Service Provider</button>
  <button class="btn-3d purple" onclick="location.href='https://zarafix.vercel.app/property-index.html'">Real Estate</button>
  <button class="btn-3d orange" onclick="location.href='admin-dashboard.html'">Admin Dashboard</button>
  <button class="btn-3d teal" onclick="location.href='#'">Extra Button</button>
</div>

<div class="scrolling-text">
  <span>यहाँ आपका स्क्रोलिंग संदेश आएगा • Zara Fix में आपका स्वागत है • नई अपडेट्स देखें • जल्दी ही नया फीचर आ रहा है •</span>
</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyD7ZqL-PVuFdd8rMVIyW7CgHQjPRGHD2h8",
    authDomain: "zara-fix-2e35a.firebaseapp.com",
    projectId: "zara-fix-2e35a",
    storageBucket: "zara-fix-2e35a.appspot.com",
    messagingSenderId: "636550144008",
    appId: "1:636550144008:web:a849496ad1d1557d7ab1bd"
  };
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.database();

  const loginBtn = document.getElementById('googleLoginBtn');
  const adminUpload = document.getElementById('adminUpload');

  const adminUIDs = ["QT3LkEToHwaiORatoKfTx8QE45s2"];

  loginBtn.addEventListener('click', ()=>{
    if(auth.currentUser){
      auth.signOut();
    } else {
      const provider = new firebase.auth.GoogleAuthProvider();
      auth.signInWithPopup(provider);
    }
  });

  auth.onAuthStateChanged(user=>{
    if(user){
      loginBtn.textContent = 'Logout';
      if(adminUIDs.includes(user.uid)) adminUpload.style.display='block';
      else adminUpload.style.display='none';
      loadSlider();
    } else {
      loginBtn.textContent = 'Google Login';
      adminUpload.style.display='none';
      document.getElementById('sliderImages').innerHTML='';
    }
  });

  function loadSlider(){
    const sliderDiv = document.getElementById('sliderImages');
    sliderDiv.innerHTML='';
    db.ref('slider').once('value', snapshot=>{
      snapshot.forEach(child=>{
        const url = child.val().url;
        const img = document.createElement('img');
        img.src = url;
        sliderDiv.appendChild(img);
      });
    });
  }

  document.getElementById('addImageBtn').addEventListener('click', ()=>{
    const url = document.getElementById('imageUrl').value.trim();
    if(url){
      const key = db.ref('slider').push().key;
      db.ref('slider/'+key).set({url:url, timestamp:Date.now()}).then(()=>{
        document.getElementById('imageUrl').value='';
        loadSlider();
      });
    }
  });

  document.getElementById('deleteSliderBtn').addEventListener('click', ()=>{
    if(confirm('Are you sure to delete all slider images?')){
      db.ref('slider').remove().then(()=> loadSlider());
    }
  });
</script>

</body>
</html>
