<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>All Services - Zara Fix</title>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script src="https://cdn.tailwindcss.com"></script>
<style>
.card:hover{transform:rotateY(10deg) scale(1.05); transition:0.3s;}
.fullscreen-img{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.95);display:flex;justify-content:center;align-items:center;z-index:50;}
.fullscreen-img img{max-width:95%;max-height:95%;border-radius:10px;}
</style>
</head>
<body class="bg-gradient-to-r from-purple-200 via-pink-200 to-blue-200 min-h-screen">

<div class="container mx-auto p-4">
<h1 class="text-3xl font-bold text-center mb-4">All Services</h1>
<div id="postsContainer" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"></div>
</div>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyD7ZqL-PVuFdd8rMVIyW7CgHQjPRGHD2h8",
  authDomain: "zara-fix-2e35a.firebaseapp.com",
  projectId: "zara-fix-2e35a",
  storageBucket: "zara-fix-2e35a.appspot.com",
  messagingSenderId: "636550144008",
  appId: "1:636550144008:web:a849496ad1d1557d7ab1bd"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

async function loadPosts(){
  const snapshot = await db.collection("posts").orderBy("createdAt","desc").get();
  const container = document.getElementById("postsContainer");
  container.innerHTML="";
  snapshot.forEach(doc => {
    const post = doc.data();
    if(post.status !== "approved") return;
    const card = document.createElement("div");
    card.className="card p-3 rounded-xl shadow-lg flex flex-col items-center bg-white border-2 border-green-500";
    card.innerHTML = `
      <img src="${post.imageUrl}" class="rounded-lg cursor-pointer w-full" onclick="openFullScreen('${post.imageUrl}')"/>
      <h2 class="text-lg font-bold mt-2">${post.title}</h2>
      <p class="text-sm">${post.description}</p>
      <p class="text-xs mt-1">Posted by: ${post.posterName}</p>
      <a href="https://wa.me/${post.posterWhatsapp}?text=Zara%20Fix%20ne%20apko%20customer%20diya%20hai" target="_blank" class="bg-green-500 text-white px-3 py-1 rounded mt-2 inline-block hover:scale-105 transition">WhatsApp</a>`;
    container.appendChild(card);
  });
}
loadPosts();
function openFullScreen(url){const modal=document.createElement("div");modal.className="fullscreen-img";modal.innerHTML=`<img src="${url}"/>`;modal.onclick=()=>modal.remove();document.body.appendChild(modal);}
</script>

</body>
</html>
