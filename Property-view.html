<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Property Listings</title>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
<style>
  body { font-family: Arial; }
  .card { border: 1px solid #ccc; border-radius: 10px; padding: 10px; margin: 10px; max-width: 300px; display:inline-block; vertical-align:top; }
  .card img { width: 100%; border-radius: 10px; }
</style>
</head>
<body>
<h1>Property Listings</h1>
<div id="propertyList"></div>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyDTj2n1yhr1sFmuyBZ-jUwOmx1YqAN5QjA",
  authDomain: "property-20d6d.firebaseapp.com",
  databaseURL: "https://property-20d6d-default-rtdb.firebaseio.com",
  projectId: "property-20d6d",
  storageBucket: "property-20d6d.appspot.com",
  messagingSenderId: "916859697394",
  appId: "1:916859697394:web:2a8f9ad2d62f8306dcb86b"
};
firebase.initializeApp(firebaseConfig);

const db = firebase.database();

function fetchProperties() {
  db.ref('properties').on('value', snapshot => {
    const properties = snapshot.val();
    let html = '';
    for (let key in properties) {
      const prop = properties[key];
      if(prop.approved){
        html += `<div class="card">
                  <img src="${prop.imageUrl}" alt="${prop.title}">
                  <h3>${prop.title}</h3>
                  <p>${prop.city} - â‚¹${prop.price}</p>
                  <p>${prop.description}</p>
                  <a href="https://wa.me/${prop.whatsapp}" target="_blank">WhatsApp</a>
                </div>`;
      }
    }
    document.getElementById('propertyList').innerHTML = html;
  });
}

fetchProperties();
</script>
</body>
</html>
