<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Property Listing</title>
<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

<style>
body {
  font-family: Arial, sans-serif;
  background-color: #f2f2f2;
  margin: 0;
  padding: 0;
}

/* Card style */
.post-card {
  background-color: white; /* card सफेद */
  border-radius: 10px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  margin: 20px auto;
  padding: 15px;
  max-width: 500px;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  cursor: pointer;
}

.post-card.enlarged {
  transform: scale(1.05);
  box-shadow: 0 8px 16px rgba(0,0,0,0.3);
}

/* Card header */
.post-card-header {
  background-color: #1E90FF;  /* नीला header */
  color: white;
  padding: 10px;
  font-weight: bold;
  font-size: 18px;
  border-radius: 8px 8px 0 0;
  text-align: center;
}

/* WhatsApp button */
.whatsapp-btn {
  background-color: #25D366;
  color: white;
  padding: 8px 12px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-weight: bold;
  margin-top: 10px;
}
.whatsapp-btn:hover {
  background-color: #1DA851;
  transition: 0.3s;
}
</style>
</head>
<body>

<div id="postsContainer"></div>

<script>
// Firebase Config
const firebaseConfig = {
  apiKey: "AIzaSyDTj2n1yhr1sFmuyBZ-jUwOmx1YqAN5QjA",
  authDomain: "property-20d6d.firebaseapp.com",
  databaseURL: "https://property-20d6d-default-rtdb.firebaseio.com",
  projectId: "property-20d6d",
  storageBucket: "property-20d6d.appspot.com",
  messagingSenderId: "916859697394",
  appId: "1:916859697394:web:2a8f9ad2d62f8306dcb86b"
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

// Function to open WhatsApp
function openWhatsApp(number) {
  window.open(`https://wa.me/${number}`, '_blank');
}

// Fetch approved posts
db.ref('posts').on('value', snapshot => {
  const posts = snapshot.val();
  const container = document.getElementById('postsContainer');
  container.innerHTML = ''; // Clear previous
  for (let key in posts) {
    const post = posts[key];
    if(post.approved) {
      const card = document.createElement('div');
      card.className = 'post-card';

      const header = document.createElement('div');
      header.className = 'post-card-header';
      header.innerText = post.title;
      card.appendChild(header);

      const desc = document.createElement('p');
      desc.innerText = post.desc;
      card.appendChild(desc);

      const btn = document.createElement('button');
      btn.className = 'whatsapp-btn';
      btn.innerText = 'WhatsApp';
      btn.onclick = () => openWhatsApp('917378342192'); // always poster/admin number
      card.appendChild(btn);

      // Click to enlarge
      card.addEventListener('click', () => {
        card.classList.toggle('enlarged');
      });

      container.appendChild(card);
    }
  }
});
</script>
</body>
</html>
