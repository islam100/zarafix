<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ZaraFix – Portal</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Firebase compat -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
</head>
<body class="flex flex-col items-center justify-center min-h-screen bg-gradient-to-r from-blue-200 to-purple-300">

  <div class="p-8 bg-white rounded-2xl shadow-2xl text-center w-80">
    <h1 class="text-2xl font-bold mb-4">ZaraFix Portal</h1>
    
    <!-- Login / Logout Button -->
    <button id="loginBtn" class="w-full bg-blue-600 text-white p-2 rounded-xl mb-3">Login with Google</button>
    <button id="logoutBtn" class="hidden w-full bg-red-600 text-white p-2 rounded-xl mb-3">Logout</button>
    
    <!-- Provider Button -->
    <a id="providerBtn" href="https://zarafix" target="_blank" class="hidden block w-full bg-green-600 text-white p-2 rounded-xl mb-3">Provider</a>
    
    <!-- Admin Button -->
    <a id="adminBtn" href="https://your-admin-link.com" target="_blank" class="hidden block w-full bg-purple-600 text-white p-2 rounded-xl">Admin</a>
  </div>

  <script>
    // ✅ Firebase Config (अपना config यहां डालें)
    const firebaseConfig = {
      apiKey: "AIzaSyD7ZqL-PVuFdd8rMVIyW7CgHQjPRGHD2h8",
      authDomain: "zara-fix-2e35a.firebaseapp.com",
      databaseURL: "https://zara-fix-2e35a-default-rtdb.firebaseio.com/",
      projectId: "zara-fix-2e35a",
      storageBucket: "zara-fix-2e35a.appspot.com",
      messagingSenderId: "636550144008",
      appId: "1:636550144008:web:a849496ad1d1557d7ab1bd"
    };
    firebase.initializeApp(firebaseConfig);

    const auth = firebase.auth();

    const loginBtn = document.getElementById("loginBtn");
    const logoutBtn = document.getElementById("logoutBtn");
    const providerBtn = document.getElementById("providerBtn");
    const adminBtn = document.getElementById("adminBtn");

    // ✅ Login
    loginBtn.onclick = () => {
      const provider = new firebase.auth.GoogleAuthProvider();
      auth.signInWithPopup(provider).catch(err => {
        alert("Login failed: " + err.message);
        console.error(err);
      });
    };

    // ✅ Logout
    logoutBtn.onclick = () => {
      auth.signOut();
    };

    // ✅ Auth State Change
    auth.onAuthStateChanged(user => {
      if (user) {
        loginBtn.classList.add("hidden");
        logoutBtn.classList.remove("hidden");
        providerBtn.classList.remove("hidden");

        // only admin
        if (user.email === "zarasamajiksevasansth@gmail.com") {
          adminBtn.classList.remove("hidden");
        } else {
          adminBtn.classList.add("hidden");
        }
      } else {
        loginBtn.classList.remove("hidden");
        logoutBtn.classList.add("hidden");
        providerBtn.classList.add("hidden");
        adminBtn.classList.add("hidden");
      }
    });
  </script>
</body>
</html>
