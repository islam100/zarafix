<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Google Login Demo</title>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <style>
    body { font-family: sans-serif; background:#0b1220; color:#fff; display:flex; justify-content:center; align-items:center; height:100vh; flex-direction:column; }
    button { padding:10px 20px; border:none; border-radius:8px; cursor:pointer; background:#06b6d4; color:#fff; font-weight:bold; }
    #user { margin-top:20px; }
  </style>
</head>
<body>

<h1>Google Login Demo</h1>
<button id="loginBtn">Login with Google</button>
<div id="user"></div>

<script>
  // Firebase config
  const firebaseConfig = {
    apiKey: "AIzaSyAa8htkfGK-4D3cIQVyxT3o_8WMvghkr-8",
    authDomain: "loot-lo-15328.firebaseapp.com",
    databaseURL: "https://loot-lo-15328-default-rtdb.firebaseio.com",
    projectId: "loot-lo-15328",
    storageBucket: "loot-lo-15328.appspot.com",
    messagingSenderId: "677769861892",
    appId: "1:677769861892:web:bb235cb8479aeee9b58e51"
  };
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  const loginBtn = document.getElementById('loginBtn');
  const userDiv = document.getElementById('user');

  loginBtn.onclick = async () => {
    if(auth.currentUser){
      // Already logged in, sign out
      await auth.signOut();
      userDiv.innerHTML = '';
      loginBtn.textContent = "Login with Google";
      console.log("Signed out");
      return;
    }

    const provider = new firebase.auth.GoogleAuthProvider();
    try {
      const result = await auth.signInWithPopup(provider);
      const user = result.user;
      console.log("User:", user);
      userDiv.innerHTML = `
        <p>Welcome, ${user.displayName}</p>
        <p>Email: ${user.email}</p>
        <img src="${user.photoURL}" width="100" style="border-radius:50%; margin-top:10px;">
      `;
      loginBtn.textContent = "Logout";
    } catch(error) {
      console.error("Login Error:", error.code, error.message);
      alert("Login failed: " + error.message);
    }
  };
</script>

</body>
</html>
