<form id="postForm">
  <input type="text" id="name" placeholder="Your Name" required>
  <input type="text" id="address" placeholder="Full Address" required>
  <input type="text" id="city" placeholder="City" required>
  <input type="text" id="whatsapp" placeholder="WhatsApp Number" required>
  <select id="category" required>
    <option value="">Select Category</option>
    <option value="Electrician">Electrician</option>
    <option value="Plumber">Plumber</option>
    <option value="AC Repair">AC Repair</option>
    <option value="Carpenter">Carpenter</option>
    <!-- Add more categories as needed -->
  </select>
  <textarea id="issue" placeholder="Describe your issue" required></textarea>
  <button type="submit">📤 Post Request</button>
</form>

<p id="status"></p>

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
<script src="firebase.js"></script>

<script>
  document.getElementById("postForm").addEventListener("submit", function(e){
    e.preventDefault();

    const name = document.getElementById("name").value;
    const address = document.getElementById("address").value;
    const city = document.getElementById("city").value;
    const whatsapp = document.getElementById("whatsapp").value;
    const category = document.getElementById("category").value;
    const issue = document.getElementById("issue").value;

    const timestamp = Date.now();
    const readableTime = new Date(timestamp).toLocaleString();

    firebase.database().ref("customerRequests").push({
      name,
      address,
      city,
      whatsapp,
      category,
      issue,
      timestamp,
      readableTime
    }).then(() => {
      document.getElementById("status").innerText = "✅ Request Posted Successfully!";
      document.getElementById("postForm").reset();
    }).catch((error) => {
      document.getElementById("status").innerText = "❌ Error: " + error.message;
    });
  });
</script>
