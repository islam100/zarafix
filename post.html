document.getElementById("requestForm").addEventListener("submit", function(e) {
  e.preventDefault();

  const name = document.getElementById("name").value;
  const city = document.getElementById("city").value;
  const whatsapp = document.getElementById("whatsapp").value;
  const category = document.getElementById("category").value;
  const issue = document.getElementById("issue").value;

  const userId = "user_" + Date.now(); // ✅ Unique ID
  const timestamp = new Date().toLocaleString(); // ✅ Human readable time

  firebase.database().ref("requests").push({
    name,
    city,
    whatsapp,
    category,
    issue,
    userId,
    timestamp
  }).then(() => {
    alert("✅ Request submitted!");
    document.getElementById("requestForm").reset();
  }).catch(err => {
    alert("❌ Error: " + err.message);
  });
});
