<!DOCTYPE html>
<html>
<head>
  <title>ZaraFix - Service Request</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { font-family: Arial, sans-serif; padding: 15px; background: #f9f9f9; }
    .container { max-width: 500px; margin: auto; background: #fff; padding: 20px; border-radius: 12px; box-shadow: 0 8px 16px rgba(0,0,0,0.15); }
    input, textarea, select {
      width: 100%; padding: 10px; margin: 8px 0; border-radius: 8px; border: 1px solid #ccc;
    }
    button {
      background: linear-gradient(to right, #4CAF50, #2E7D32); color: white;
      padding: 10px 15px; border: none; border-radius: 8px; margin-top: 10px;
      box-shadow: 0 4px #1b5e20; cursor: pointer;
    }
    button:hover { transform: scale(1.03); }
  </style>
</head>
<body>

<div class="container">
  <h2>Post Your Service Request</h2>
  
  <input type="text" id="name" placeholder="Your Name" required>
  <input type="text" id="city" placeholder="City" required>

  <select id="category" required>
    <option value="">-- Select Category --</option>
    <option value="AC Repair">AC Repair</option>
    <option value="Electrician">Electrician</option>
    <option value="Plumber">Plumber</option>
    <!-- Add more as needed -->
  </select>

  <textarea id="issue" placeholder="Describe your issue" required></textarea>
  <input type="text" id="whatsapp" placeholder="WhatsApp Number" required>

  <!-- ‚úÖ Full Address with Auto Detect -->
  <input type="text" id="address" placeholder="Full Address (Auto or Manual)" required>
  <button onclick="detectAddress()">üìç Auto Detect Address</button>

  <button onclick="submitForm()">‚úÖ Submit Request</button>
</div>

<!-- Google Maps API (Required for Geocoding) -->
<script src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY"></script>

<script>
function detectAddress() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(position => {
      const lat = position.coords.latitude;
      const lng = position.coords.longitude;

      const geocoder = new google.maps.Geocoder();
      const latlng = { lat, lng };

      geocoder.geocode({ location: latlng }, (results, status) => {
        if (status === "OK") {
          if (results[0]) {
            document.getElementById("address").value = results[0].formatted_address;
          } else {
            alert("No address found");
          }
        } else {
          alert("Geocoder failed: " + status);
        }
      });

    }, () => alert("Location permission denied"));
  } else {
    alert("Geolocation not supported by this browser.");
  }
}

function submitForm() {
  const name = document.getElementById("name").value;
  const city = document.getElementById("city").value;
  const category = document.getElementById("category").value;
  const issue = document.getElementById("issue").value;
  const whatsapp = document.getElementById("whatsapp").value;
  const address = document.getElementById("address").value;

  if (!name || !city || !category || !issue || !whatsapp || !address) {
    alert("Please fill all fields");
    return;
  }

  // Submit logic here (Firebase etc.)
  alert("‚úÖ Submitted!\nAddress: " + address);
}
</script>

</body>
</html>
