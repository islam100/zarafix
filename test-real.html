<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Zara Fix - Login Controlled Buttons</title>
<style>
  :root{
    --container-w: 480px;
    --accent-blue: #4285F4;
    --card-shadow: 0 3px 8px rgba(0,0,0,0.12);
  }

  html,body{
    margin:0; padding:0; height:100%;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(180deg,#87ceeb 0%, #e0f7ff 80%);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  .container {
    max-width: var(--container-w);
    margin: 28px auto;
    padding: 0 16px;
    box-sizing: border-box;
  }

  /* Logo */
  .logo {
    font-size: clamp(2.2rem, 6vw, 3.5rem);
    font-weight: 900;
    color:#ef0400;
    text-shadow:
      2px 2px 0 #ffea00,
      4px 4px 0 #00f7ff,
      6px 6px 8px rgba(0,0,0,0.28);
    text-align:center;
    user-select:none;
    margin-bottom:18px;
    line-height:1;
  }
  .tagline {
    text-align:center;
    font-size:0.9rem;
    color:#073642;
    margin-bottom:14px;
    font-weight:600;
    letter-spacing:0.2px;
  }

  /* Login button */
  #googleLoginBtn {
    background: var(--accent-blue);
    color: white;
    font-weight: 700;
    padding: 10px 18px;
    font-size: 15px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    display: block;
    margin: 0 auto 18px auto;
    box-shadow: var(--card-shadow);
    transition: transform .12s ease, box-shadow .12s ease;
  }
  #googleLoginBtn:hover { transform: translateY(-2px); box-shadow: 0 8px 18px rgba(0,0,0,0.18); }
  #userInfo {
    text-align:center;
    font-size:0.9rem;
    color:#022;
    margin-bottom:10px;
    display:none;
  }

  /* Button grid */
  .button-grid {
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
    gap:12px;
    margin-bottom:18px;
    pointer-events: none; /* hidden by default interactions */
    opacity: 0;
    transition: opacity .2s ease, transform .2s ease;
    transform: translateY(8px);
  }
  .button-grid.show {
    pointer-events: auto;
    opacity:1;
    transform: translateY(0);
  }

  .btn-3d {
    padding: 11px 20px;
    font-size: 15px;
    font-weight: 700;
    border-radius: 12px;
    border: none;
    color: white;
    cursor: pointer;
    min-width: 140px;
    text-align:center;
    user-select:none;
    box-shadow: 0 6px 0 rgba(0,0,0,0.45), 0 10px 18px rgba(0,0,0,0.18);
    transition: transform .12s ease, box-shadow .12s ease;
  }
  .btn-3d:active { transform: translateY(4px) scale(.996); box-shadow: 0 2px 0 rgba(0,0,0,0.35); }
  .btn-3d:focus { outline: 3px solid rgba(66,133,244,0.18); outline-offset: 2px; }

  .green { background: linear-gradient(90deg,#4caf50,#2e7d32); }
  .blue { background: linear-gradient(90deg,#2196f3,#0d47a1); }
  .red { background: linear-gradient(90deg,#f44336,#b71c1c); }
  .purple { background: linear-gradient(90deg,#9c27b0,#6a1b9a); }
  .orange { background: linear-gradient(90deg,#ff9800,#e65100); }
  .teal { background: linear-gradient(90deg,#009688,#004d40); }

  /* make smaller on narrow screens */
  @media (max-width:420px){
    .btn-3d { min-width: 120px; padding:10px 12px; font-size:14px; border-radius:10px; }
    .container{ padding:0 12px; }
  }

  /* Bottom scrolling text */
  .scrolling-text {
    position: fixed;
    bottom: 12px;
    left: 0;
    right: 0;
    display:flex;
    align-items:center;
    justify-content:center;
    width:100%;
    background: rgba(255,255,255,0.88);
    color: #111827;
    font-weight:700;
    padding:8px 10px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.08);
    z-index: 9999;
    overflow:hidden;
    white-space:nowrap;
  }
  .scrolling-text .inner {
    display:inline-block;
    will-change: transform;
    padding-left: 100%;
    animation: scroll-left 18s linear infinite;
  }
  @keyframes scroll-left {
    0% { transform: translateX(0%); }
    100% { transform: translateX(-100%); }
  }

  /* small utility */
  .hidden { display:none; }
  .small-note { font-size:0.82rem; color:#063047; opacity:0.95; text-align:center; margin-bottom:10px; }
</style>
</head>
<body>

<div class="container" role="main" aria-labelledby="brand">
  <div id="brand" class="logo" aria-hidden="false">Zara Fix</div>
  <div class="tagline">All Services — One Place</div>

  <div id="userInfo" aria-live="polite"></div>

  <button id="googleLoginBtn" aria-pressed="false" aria-label="Sign in with Google">Google Login</button>

  <div class="button-grid" id="buttonGrid" aria-hidden="true" role="navigation" aria-label="Primary actions">
    <button class="btn-3d green" id="btnRecharge">Recharge Request</button>
    <button class="btn-3d blue" id="btnServiceReq">Service Request</button>
    <button class="btn-3d red" id="btnProvider">Service Provider</button>
    <button class="btn-3d purple" id="btnRealEstate">Real Estate</button>
    <button class="btn-3d orange" id="btnAdminDash">Admin Dashboard</button>
    <button class="btn-3d teal" id="btnExtra">Extra Button</button>
  </div>

  <div class="small-note">Sign in to see more options. Admin button appears only for admin user.</div>
</div>

<!-- scrolling text -->
<div class="scrolling-text" aria-hidden="false">
  <div class="inner" id="scrollText">यहाँ आपका स्क्रोलिंग संदेश आएगा • Zara Fix में आपका स्वागत है • नई अपडेट्स देखें • जल्दी ही नया फीचर आ रहा है •</div>
</div>

<!-- Firebase SDK (only app + auth required here) -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>

<script>
  // --------------------------
  // Firebase config - replace if different
  // --------------------------
  const firebaseConfig = {
    apiKey: "AIzaSyCH17_8W_UPmPt4KqpCaV7BpN6KsA4a67E",
    authDomain: "zara-fix.firebaseapp.com",
    projectId: "zara-fix"
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  // Admin email - show admin button only for this user
  const ADMIN_EMAIL = "zarasamajiksevasanstha@gmail.com";

  // DOM refs
  const loginBtn = document.getElementById('googleLoginBtn');
  const buttonGrid = document.getElementById('buttonGrid');
  const userInfo = document.getElementById('userInfo');
  const btnAdmin = document.getElementById('btnAdminDash');

  // map buttons to destinations (adjust URLs as needed)
  document.getElementById('btnRecharge').addEventListener('click', () => location.href = 'https://zarafix.vercel.app/recharge.html');
  document.getElementById('btnServiceReq').addEventListener('click', () => location.href = 'https://zarafix.vercel.app/requestbottun.html');
  document.getElementById('btnProvider').addEventListener('click', () => location.href = 'https://zarafix.vercel.app/2poster.html');
  document.getElementById('btnRealEstate').addEventListener('click', () => location.href = 'https://zarafix.vercel.app/property-index.html');
  document.getElementById('btnExtra').addEventListener('click', () => alert('Extra button clicked'));
  btnAdmin.addEventListener('click', () => location.href = 'admin-dashboard.html');

  // Sign in / out handler
  loginBtn.addEventListener('click', async () => {
    try {
      if (auth.currentUser) {
        // sign out
        await auth.signOut();
        alert('Logged out successfully');
      } else {
        const provider = new firebase.auth.GoogleAuthProvider();
        const result = await auth.signInWithPopup(provider);
        // result.user has information
        alert('Login successful! Welcome, ' + (result.user.displayName || result.user.email));
      }
    } catch (err) {
      console.error('Auth error:', err);
      alert('Authentication error: ' + (err.message || err));
    }
  });

  // Reflect auth state in UI
  auth.onAuthStateChanged(user => {
    if (user) {
      loginBtn.textContent = 'Logout';
      loginBtn.setAttribute('aria-pressed','true');
      buttonGrid.classList.add('show');
      buttonGrid.setAttribute('aria-hidden','false');
      userInfo.style.display = 'block';
      userInfo.innerHTML = `Signed in as <strong>${escapeHtml(user.displayName || user.email)}</strong>`;
      // show admin button only for admin email
      if ((user.email || '').toLowerCase() === ADMIN_EMAIL.toLowerCase()) {
        btnAdmin.style.display = 'inline-block';
      } else {
        btnAdmin.style.display = 'none';
      }
    } else {
      loginBtn.textContent = 'Google Login';
      loginBtn.setAttribute('aria-pressed','false');
      buttonGrid.classList.remove('show');
      buttonGrid.setAttribute('aria-hidden','true');
      userInfo.style.display = 'none';
      userInfo.textContent = '';
      btnAdmin.style.display = 'none';
    }
  });

  // small helper to avoid XSS text injection
  function escapeHtml(s){
    if(!s) return '';
    return s.replace(/[&<>"']/g, function(m){ return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]; });
  }

  // Improve scrolling text behavior on reduced-motion preference
  (function handleReducedMotion(){
    const inner = document.querySelector('.scrolling-text .inner');
    if(!inner) return;
    const mq = window.matchMedia('(prefers-reduced-motion: reduce)');
    if(mq.matches){
      inner.style.animation = 'none';
      inner.style.paddingLeft = '12px';
    }
    mq.addEventListener?.('change', () => {
      if(mq.matches) { inner.style.animation = 'none'; inner.style.paddingLeft = '12px'; }
      else { inner.style.animation = ''; inner.style.paddingLeft = '100%'; }
    });
  })();
</script>
</body>
</html>
