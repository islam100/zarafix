<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Property Listing</title>
<style>
  body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f2f2f2; }
  .container { width:90%; margin:20px auto; }
  .property { background:#fff; padding:15px; margin-bottom:20px; border-radius:10px; box-shadow:0 3px 10px rgba(0,0,0,0.1); }
  .property img { width:100%; border-radius:10px; }
  .property h2 { margin:10px 0 5px; }
  .property p { margin:5px 0; }
  .whatsapp-btn { display:inline-block; margin-top:10px; background:#25D366; color:#fff; padding:10px 15px; border-radius:5px; text-decoration:none; }
</style>
</head>
<body>
<div class="container" id="propertyList"></div>

<script>
  // Firebase config (aapne diya)
  const firebaseConfig = {
    apiKey: "AIzaSyDTj2n1yhr1sFmuyBZ-jUwOmx1YqAN5QjA",
    authDomain: "property-20d6d.firebaseapp.com",
    databaseURL: "https://property-20d6d-default-rtdb.firebaseio.com",
    projectId: "property-20d6d",
    storageBucket: "property-20d6d.appspot.com",
    messagingSenderId: "916859697394",
    appId: "1:916859697394:web:2a8f9ad2d62f8306dcb86b"
  };

  // Firebase initialize
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  // JSON data (aapne diya)
  const data = {
    "properties": {
      "property1": {
        "title": "2BHK Flat for Sale",
        "city": "Mumbai",
        "type": "sale",
        "price": 5000000,
        "description": "A spacious 2BHK flat near school and market.",
        "imageUrl": "https://i.ibb.co/5128d0b0687e9718139752bca8a4ec59.jpg", // ImgBB image
        "whatsapp": "919876543210",
        "userId": "user-uid-1",
        "userEmail": "poster1@example.com",
        "approved": true,
        "timestamp": 1750000000000
      },
      "property2": {
        "title": "1BHK Flat for Rent",
        "city": "Pune",
        "type": "rent",
        "price": 12000,
        "description": "Cozy 1BHK flat with all amenities.",
        "imageUrl": "https://i.ibb.co/5128d0b0687e9718139752bca8a4ec59.jpg", // ImgBB same image
        "whatsapp": "919876543211",
        "userId": "user-uid-2",
        "userEmail": "poster2@example.com",
        "approved": true,
        "timestamp": 1750000000000
      }
    }
  };

  const propertyList = document.getElementById('propertyList');

  for (let key in data.properties) {
    const prop = data.properties[key];
    if(prop.approved) {
      const div = document.createElement('div');
      div.classList.add('property');
      div.innerHTML = `
        <img src="${prop.imageUrl}" alt="${prop.title}">
        <h2>${prop.title} (${prop.type.toUpperCase()})</h2>
        <p><strong>City:</strong> ${prop.city}</p>
        <p><strong>Price:</strong> ${prop.price}</p>
        <p>${prop.description}</p>
        <a class="whatsapp-btn" href="https://wa.me/${prop.whatsapp}" target="_blank">Chat on WhatsApp</a>
      `;
      propertyList.appendChild(div);
    }
  }
</script>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
</body>
</html>
